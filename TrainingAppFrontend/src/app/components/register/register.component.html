<div id="body">
  <mat-card>
    <mat-card-content id="form">
      <form [formGroup]="registerForm" (ngSubmit)="register()">
        
        <mat-form-field appearance="outline" [ngClass]="{'error-field': email?.invalid && (email?.dirty || email?.touched)}">
          <mat-label>Email</mat-label>
          <mat-icon matPrefix>email</mat-icon>
          <input matInput formControlName="email" placeholder="Email">
          <mat-error *ngIf="registerForm.get('email')?.hasError('required')">Email is required.</mat-error>
          <mat-error *ngIf="registerForm.get('email')?.hasError('email')">Please enter a valid email.</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" [ngClass]="{'error-field': password?.invalid && (password?.dirty || password?.touched)}">
          <mat-label>Password</mat-label>
          <input matInput formControlName="password" [type]="hidePassword ? 'password' : 'text'" placeholder="Password">
          <mat-icon matPrefix>lock</mat-icon>
          <mat-icon mat-icon-button matSuffix (click)="hidePassword = !hidePassword">{{ hidePassword ? 'visibility' : 'visibility_off' }}</mat-icon>
          <mat-error *ngIf="password?.hasError('required')">Password is required.</mat-error>
          <mat-error *ngIf="password?.hasError('minlength')">Password must be at least 8 characters long.</mat-error>
          <mat-error *ngIf="password?.hasError('pattern')">Password must contain at least one uppercase letter and one number.</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" [ngClass]="{'error-field': repeatPassword?.invalid && (repeatPassword?.dirty || repeatPassword?.touched)}">
          <mat-label>Repeat Password</mat-label>
          <mat-icon matPrefix>lock</mat-icon>
          <mat-icon mat-icon-button matSuffix (click)="hidePasswordRepeat = !hidePasswordRepeat">{{ hidePasswordRepeat ? 'visibility' : 'visibility_off' }}</mat-icon>
          <input matInput formControlName="repeatPassword" [type]="hidePasswordRepeat ? 'password' : 'text'" placeholder="Repeat Password">
          <mat-error *ngIf="repeatPassword?.hasError('required')">Please repeat the password.</mat-error>
        </mat-form-field>

        <button mat-raised-button color="primary" [disabled]="registerForm.invalid">Register</button>
      </form>
    </mat-card-content>
  </mat-card>
</div>
